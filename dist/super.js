(()=>{let e=6,t="Architecture";async function n(){const n=await fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${t}"&key=AIzaSyCq3RQgYV2x8IR9VhY5D0oK-TXqgnycAGQ&printType=books&startIndex=0&maxResults=${e}&langRestrict=en`);!function(e){const t=document.querySelector(".books");t.innerHTML="",e.items.forEach((e=>{const n=document.createElement("div");n.className="bookList";const o=document.createElement("img");e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.thumbnail?o.src=e.volumeInfo.imageLinks.thumbnail:o.src="placeholder.jpg",n.appendChild(o);const s=document.createElement("div");if(s.className="book-info",e.volumeInfo.authors){const t=document.createElement("p");t.className="book-description",t.textContent=`${e.volumeInfo.authors.join(", ")}`,s.appendChild(t)}const c=document.createElement("h3");if(c.className="book-title",c.textContent=e.volumeInfo.title,s.appendChild(c),e.volumeInfo.averageRating&&e.volumeInfo.ratingsCount){const t=Math.round(e.volumeInfo.averageRating),n=e.volumeInfo.ratingsCount,o=document.createElement("p");o.className="book-description";const c=5-t,a="★".repeat(t),i="☆".repeat(c);o.innerHTML=`<span style="color: #F2C94C">${a}</span><span style="color: gray">${i}</span> (${n} reviews)`,s.appendChild(o)}if(e.volumeInfo.description){const t=e.volumeInfo.description.length>150?`${e.volumeInfo.description.substring(0,150)}...`:e.volumeInfo.description,n=document.createElement("p");n.className="book-description",n.textContent=t,s.appendChild(n)}if(e.saleInfo&&e.saleInfo.listPrice&&e.saleInfo.listPrice.amount){const t=e.saleInfo.listPrice.amount,n=e.saleInfo.listPrice.currencyCode,o=document.createElement("p");o.className="price",o.textContent=`Price: ${t} ${n}`,s.appendChild(o)}else{const e=document.createElement("p");e.className="not-for-sale",e.textContent="Not for sale",s.appendChild(e)}const a=document.createElement("button");a.className="buy-button",a.href="#",a.textContent="Buy now",s.appendChild(a),n.appendChild(s),t.appendChild(n),a.addEventListener("click",l),t.appendChild(n)}))}(await n.json())}n();const o=document.querySelectorAll(".menu-navigation_item");function s(){document.querySelector(".active_item").classList.remove("active_item"),this.classList.add("active_item"),t=this.dataset.name,e=6,n()}o.forEach((e=>{e.addEventListener("click",s)})),console.log(o);const c=document.querySelector(".load-more-button");c.addEventListener("click",(function(){console.log("click"),e+=6,n()})),console.log(c);const a=document.querySelector(".circle");let i=localStorage.getItem("shopBagItems")||0;function l(){this.classList.contains("buy-now_active")?(i--,0===i&&(a.style.opacity=0),a.textContent=i,this.textContent="buy now",this.classList.remove("buy-now_active")):(0===i&&(a.style.opacity=1),i++,a.textContent=i,this.textContent="in the cart",this.classList.add("buy-now_active")),console.log("update",i),localStorage.setItem("shopBagItems",i)}i>0&&(a.style.opacity=1,a.textContent=i);const r=document.querySelector(".slider").getElementsByTagName("img"),m=document.querySelector(".dots").getElementsByClassName("dot");let d,u=0;function p(e){for(let e=0;e<r.length;e++)r[e].classList.remove("active");for(let e=0;e<m.length;e++)m[e].classList.remove("active");r[e].classList.add("active"),m[e].classList.add("active"),u=e}for(let e=0;e<m.length;e++)m[e].addEventListener("click",(()=>{p(e)}));d=setInterval((function(){u=(u+1)%r.length,p(u)}),5e3),p(0)})();